---
title: Setup Contract Development
description: Complete guide to set up your ink! development environment
---

import { Steps, Step } from 'fumadocs-ui/components/steps'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion'

## Prerequisites

- Follow our [quickstart guide](/) to scaffold and set up your inkathon project.

---

## Environment Setup

<Steps>

<Step>

### Install Rust and Cargo

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

</Step>

<Step>

### Install Pop CLI

Pop CLI provides an enhanced developer experience for working with ink! contracts:

```bash
cargo install --git https://github.com/r0gue-io/pop-cli.git --branch v6.0.0-alpha.1 --no-default-features --locked -F polkavm-contracts,chain,telemetry
```

<Callout title="ink! v6 Support" type="warn">
  Make sure to install a v6-compatible version of Pop CLI from GitHub. If the command above is not
  working as expected, follow the official [Pop CLI installation
  guide](https://learn.onpop.io/contracts/welcome/install-pop-cli).
</Callout>

</Step>

<Step>

### Run Pop CLI Setup Wizard

Pop CLI will take care of setting up your Rust environment for Polkadot development.

```bash
pop install
```

</Step>
</Steps>

---

## Local Node Setup

<Callout title="Optional">If you plan to deploy on a live testnet, you can skip this step.</Callout>

<Steps>
<Step>

### Install ink-node

Download and install the latest release from the [`ink-node`](https://github.com/use-ink/ink-node) repository.

```bash
curl -L https://github.com/use-ink/ink-node/releases/latest/download/ink-node-mac-universal.tar.gz | tar xz
```

</Step>

<Step>

### Make ink-node globally accessible

```bash
sudo mv ink-node /usr/local/bin/
```

</Step>
<Step>

### Verify installation

```bash
ink-node --version
```

</Step>
</Steps>

---

## Build & Deploy Contracts

<Steps>
<Step>

### Start the Local Node

<Callout title="Optional">If you plan to deploy on a live testnet, you can skip this step.</Callout>

Open a separate terminal and run the local node in the background:

```bash
cd contracts
bun run node
```

The node will start at `ws://127.0.0.1:9944`

</Step>

<Step>

### Build Contracts

In a new terminal, build the example contract:

```bash
cd contracts

# Build contracts
bun run build

# (Re-)generate Papi types
bun run codegen
```

</Step>

<Step>

### Test Contracts

Run unit tests for your contracts to ensure they work correctly:

```bash
bun run test
```

<Callout title="Pop CLI Testing">The test script uses `pop test` under the hood to run unit tests for all contracts in the `/src` directory.</Callout>

</Step>

<Step>

### Deploy Contracts

Now you can deploy the contract to your local node:

```bash
CHAIN=dev bun run deploy
```

<Callout title="Deployer Account" type="warning">By default, the deployer account is `//Alice` who is pre-funded on local nodes. You can overwrite this by either passing an `ACCOUNT_URI` variable or defining an `.env.<chain>` file (see [environment](/learn/contracts#environment)).</Callout>

</Step>

<Step>

### Configure Frontend

Update the frontend to connect to your local node (optional) and import the freshly deployed contract:

```tsx title="frontend/src/lib/reactive-dot/config.ts"
import { dev } from '@polkadot-api/descriptors' // [!code ++]
// …

export const config = defineConfig({
  chains: {
    pop: {
      descriptor: pop,
      provider: getWsProvider('wss://rpc1.paseo.popnetwork.xyz'),
    },
    passethub: {
      descriptor: passethub,
      provider: getWsProvider('wss://testnet-passet-hub.polkadot.io'),
    },
    dev: {
      descriptor: dev, // [!code ++]
      provider: getWsProvider('ws://127.0.0.1:9944'), // [!code ++]
    },
  },
  // …
})
```

```tsx title="frontend/src/lib/inkathon/deployments.ts"
import * as flipperDev from 'contracts/deployments/flipper/dev' // [!code ++]
// …

export const flipper = {
  contract: contracts.flipper,
  evmAddresses: {
    pop: flipperPop.evmAddress,
    passethub: flipperPassethub.evmAddress,
    dev: flipperDev.evmAddress, // [!code ++]
  },
  ss58Addresses: {
    pop: flipperPop.ss58Address,
    passethub: flipperPassethub.ss58Address,
    dev: flipperDev.ss58Address, // [!code ++]
  },
}
```

</Step>

<Step>

### Start Frontend Development

Now you can already interact with your contract in the frontend.

```bash
# From project root
bun run dev

# Or run both frontend and node together
bun run dev-and-node
```

Visit [http://localhost:3000](http://localhost:3000) to see your dApp!

</Step>
</Steps>

## Learn More

<Cards>
  <Card
    title="Project Structure"
    description="Learn more about the project structure"
    href="/learn/contracts"
  />
  <Card
    title="Command Cheat Sheet"
    description="Learn all commands for the perfect workflow"
    href="/resources/commands"
  />
  <Card
    title="Contracts Architecture"
    description="Learn more about the ink! smart contracts"
    href="/learn/contracts"
  />
  <Card
    title="Frontend Architecture"
    description="Learn more about the Next.js frontend"
    href="/learn/frontend"
  />
</Cards>
